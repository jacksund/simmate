{% extends "data_explorer/table_entries_base.html" %}
{% block table_headers %}
    {% table_header "id" min_width=50 %}
    {% table_header "name" min_width=150 %}
    {% table_header "status" min_width=100 %}
    {% if not project_view %}
        {% table_header "project__name" "Project" min_width=100 %}
    {% endif %}
    <th style="min-width:150px">Tags</th>
    {% table_header "created_by__first_name" "Created By" min_width=100 %}
    {% table_header "driven_by__first_name" "Driven By" min_width=100 %}
    {% table_header "description" min_width=300 %}
    {% if project_view %}
        {% table_header "comments" min_width=300 %}
    {% endif %}
    {% table_header "created_at" min_width=100 %}
    {% table_header "updated_at" min_width=100 %}
    <th style="min-width:50px">Edit</th>
{% endblock %}
{% block table_rows %}
    <td>{% foreign_key_link entry %}</td>
    <td>{{ entry.name }}</td>
    <td>
        {% if entry.status == "PR" %}
            {% status_bar "Pending Review" "info" %}
        {% elif entry.status == "A" %}
            {% status_bar "Active" "success" %}
        {% elif entry.status == "RU" %}
            {% status_bar "Requires Update" "warning" %}
        {% elif entry.status == "IA" %}
            {% status_bar "Inactive" "danger" %}
        {% elif entry.status == "SFD" %}
            {% status_bar "Staged for Deletion" "danger" %}
        {% endif %}
    </td>
    {% if not project_view %}
        <td>{% foreign_key_link entry.project "name" %}</td>
    {% endif %}
    <td>
        {% for tag in entry.tags.all %}
            {% foreign_key_link tag "name" "pill" %}
        {% endfor %}
    </td>
    <td>{{ entry.created_by.first_name }} {{ entry.created_by.last_name }}</td>
    <td>{{ entry.driven_by.first_name }} {{ entry.driven_by.last_name }}</td>
    <td>{{ entry.description }}</td>
    {% if project_view %}<td>{{ entry.comments }}</td>{% endif %}
    <td>{{ entry.created_at|date:"Y-m-d" }}</td>
    <td>{{ entry.updated_at|date:"Y-m-d" }}</td>
    {% update_entry_link entry %}
{% endblock %}
